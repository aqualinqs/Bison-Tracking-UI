<svg width="800" height="550" viewBox="0 0 800 550" fill="none" xmlns="http://www.w3.org/2000/svg" style="font-family: 'Inter', sans-serif;">
<style>
.box { fill: #2a2438; stroke: #9333ea; stroke-width: 2; rx: 12; ry: 12; }
.data-process { fill: #2a2438; stroke: #10b981; stroke-width: 2; rx: 12; ry: 12; }
.label { font-size: 16px; fill: #e6edf3; font-weight: 600; }
.sub-label { font-size: 12px; fill: #a0a0a0; }
.arrow-line { stroke: #9333ea; stroke-width: 2; marker-end: url(#arrowhead); }
.api-label { font-size: 14px; fill: #f97316; font-weight: 700; }
.app-box { fill: #1c1e2b; stroke: #3b82f6; stroke-width: 2; rx: 8; ry: 8; }
</style>

<defs>
  <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto">
    <polygon points="0 0, 10 3.5, 0 7" fill="#9333ea" />
  </marker>
</defs>

<!-- Title -->
<text x="400" y="30" text-anchor="middle" class="label" style="font-size: 24px; fill: #e6edf3;">
  Bison Tracking System Architecture
</text>

<!-- 1. Input Source -->
<rect class="box" x="50" y="70" width="160" height="70"/>
<text x="130" y="125" text-anchor="middle" class="label">RTSP/Video Feed</text>

<!-- Arrow: Input to Server -->
<line class="arrow-line" x1="210" y1="105" x2="260" y2="105"/>

<!-- 2. Processing Layer: Tracker Server -->
<rect class="data-process" x="260" y="70" width="280" height="150"/>
<text x="400" y="125" text-anchor="middle" class="label">Bison Tracker Server</text>
<text x="400" y="145" text-anchor="middle" class="sub-label">(rtsp_bison_tracker_2.py)</text>
<text x="400" y="165" text-anchor="middle" class="sub-label">YOLO Detection & Tracking</text>

<!-- 3. Output Layer: API Endpoints -->
<rect class="box" x="590" y="70" width="160" height="150"/>
<text x="670" y="125" text-anchor="middle" class="label">Tracker API</text>
<text x="670" y="145" text-anchor="middle" class="sub-label">HTTP (Port 8080)</text>
<text x="670" y="165" text-anchor="middle" class="api-label">/stats</text>
<text x="670" y="185" text-anchor="middle" class="api-label">/mjpeg, /hls.m3u8</text>

<!-- Arrow: Server to API -->
<line class="arrow-line" x1="540" y1="145" x2="590" y2="145"/>

<!-- 4. Data Storage -->
<rect class="box" x="300" y="250" width="200" height="70"/>
<text x="400" y="305" text-anchor="middle" class="label">Data Storage (Cloud)</text>
<line class="arrow-line" x1="400" y1="220" x2="400" y2="250" stroke-dasharray="5,5"/>

<!-- 5. Presentation Layer -->
<text x="400" y="380" text-anchor="middle" class="label" style="font-size: 20px; fill: #e6edf3;">
  Presentation Layer (Client Dashboards)
</text>
<line x1="100" y1="390" x2="700" y2="390" stroke="#3f3a53" stroke-width="1"/>

<!-- Dash Dashboard -->
<rect class="app-box" x="50" y="420" width="220" height="100"/>
<text x="160" y="475" text-anchor="middle" class="label">Dash Dashboard</text>
<text x="160" y="495" text-anchor="middle" class="sub-label">(app.py | Port 8050)</text>
<line class="arrow-line" x1="610" y1="220" x2="160" y2="420"/>

<!-- NiceGUI Dashboard -->
<rect class="app-box" x="290" y="420" width="220" height="100"/>
<text x="400" y="475" text-anchor="middle" class="label">NiceGUI Dashboard</text>
<text x="400" y="495" text-anchor="middle" class="sub-label">(dashboard.py | Port 8000)</text>
<line class="arrow-line" x1="610" y1="220" x2="400" y2="420"/>

<!-- HTML Dashboard -->
<rect class="app-box" x="530" y="420" width="220" height="100"/>
<text x="640" y="475" text-anchor="middle" class="label">HTML Dashboard</text>
<text x="640" y="495" text-anchor="middle" class="sub-label">(index.html | Browser Poll)</text>
<line class="arrow-line" x1="610" y1="220" x2="640" y2="420"/>
</svg>
